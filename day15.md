
## 정규화
 중복을 제거해서 데이터 이상 현상을 막는 설계 규칙
 
 정규화를 안 하면 생기는 문제:
 	
    같은 값이 여러 테이블/row에 흩어짐

	하나 수정했는데 다른 곳은 그대로 → 데이터 불일치

	삭제/삽입 시 이상 현상 발생
    
## 정규화가 필요한 이유
### 삽입 이상
 주문이 없으면 회원 정보를 못 넣는 구조
### 수정 이상
 회원 이메일 변경 → 여러 row 수정 필요
### 삭제 이상
 주문 삭제했더니 회원 정보까지 사라짐
 
## 1NF
규칙
 컬럼 값은 원자값
 
 반복 그룹X

나쁜 예

| id | phone_numbers     |
| -- | ----------------- |
| 1  | 010-1111,010-2222 |

좋은 예

| id | phone    |
| -- | -------- |
| 1  | 010-1111 |
| 1  | 010-2222 |

## 2NF
전제
	이미 1NF 만족
    
    복합 PK 사용 중일 때 의미 있음
   
규칙
	부분 종속 제거
    
    pk 전체에 의존하지 않는 컬럼 분리
   
문제 예:

PK: (order_id, product_id)

| order_id | product_id | product_name |
| -------- | ---------- | ------------ |

product_name은 product_id에만 의존
 
해결:

product 테이블 분리

## 3NF
규칙
	이행적 종속 제거

	A → B → C 구조 제거
    
문제 예
	| order_id | member_id | member_email |
	| -------- | --------- | ------------ |
    
    member_email은 member_id에 종속
	
    하지만 member_id는 PK가 아님
    
해결
	member_email은 members 테이블로 이동
    
## 정규화의 장단점
### 장점
	데이터 무결성 ↑

	수정/삭제 안전

	구조 명확
    
### 단점
	JOIN 증가

	쿼리 복잡

	성능 저하 가능

## 언제 비정규화할까?
성능이 이유일 때만

예시:

	통계/리포트용 테이블

	읽기 전용 데이터

	자주 JOIN되는 값 캐싱
